<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J Films | Reservar</title>
    <link rel="stylesheet" href="CSS/Style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body data-page="reservar">
    <nav>
        <img class="Logo-header" src="Imagenes/J-films-logo-negro.png" alt="Logo">
        <div class="Buttons-menu">
            <a href="index.html"><i class="fas fa-home"></i> Inicio</a>
            <a href="Catalogo.html"><i class="fas fa-list"></i> Catálogo</a>
            <a href="Reservar.html"><i class="fas fa-ticket-alt"></i> Reservar</a>
            <a href="Nosotros.html"><i class="fas fa-users"></i> Nosotros</a>
        </div>
        <div id="menuToggle">
            <input type="checkbox" />
            <span></span>
            <span></span>
            <span></span>
            <ul id="menu">
              <a href="index.html"><li>Inicio</li></a>
              <a href="Catalogo.html"><li>Catálogo</li></a>
              <a href="Reservar.html"><li>Reservar</li></a>
              <a href="Nosotros.html"><li>Nosotros</li></a>
            </ul>
          </div>
    </nav>
    <section id="Reservar" class="formulario-container">
        <h1>Reservar Película</h1>
        <form action="submit_reserva.php" method="post" class="formulario">
            <div class="form-group">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
                <label for="pelicula">Película:</label>
                <select id="pelicula" name="pelicula" required>
                    <option value="The-first-omen">The First Omen - 2024</option>
                    <option value="the-conjuring">The Conjuring - 2013</option>
                    <option value="the-shining">The Shining - 1980</option>
                    <option value="the-exorcist">The Exorcist - 1973</option>
                    <option value="the-ring">The Ring - 2002</option>
                    <option value="The-notebook">The Notebook - 2004</option>
                    <option value="titanic">Titanic - 1997</option>
                    <option value="La-la-land">La La Land - 2016</option>
                    <option value="the-proposal">The Proposal - 2009</option>
                    <option value="10-things-i-hate-about-you">10 Things I Hate About You - 1999</option>
                    <option value="The-dark-knight">The Dark Knight - 2008</option>
                    <option value="The-avengers">The Avengers - 2012</option>
                    <option value="Mad-max-fury-road">Mad Max: Fury Road - 2015</option>
                    <option value="John-wick">John Wick - 2014</option>
                    <option value="Die-hard">Die Hard - 1988</option>
                    <option value="Blade-runner">Blade Runner - 1982</option>
                    <option value="Star-wars">Star Wars: Episode IV - A New Hope - 1977</option>
                    <option value="The-matrix">The Matrix - 1999</option>
                    <option value="Interstellar">Interstellar - 2014</option>
                    <option value="back-to-the-future">Back to the Future - 1985</option>
                    <option value="12-years-a-slave">12 Years a Slave - 2013</option>
                    <option value="The-shawshank-redemption">The Shawshank Redemption - 1994</option>
                    <option value="The-social-network">The Social Network - 2010</option>
                    <option value="The-pursuit-of-happyness">The Pursuit of Happyness - 2006</option>
                    <option value="Forrest-gump">Forrest Gump - 1994</option>
                </select>
                <label for="cantidad">Cantidad:</label>
                <input type="number" id="cantidad" name="cantidad" min="1" max="10" required>
                <button type="button" onclick="agregarPelicula()">Añadir Película</button>
            </div>
            <div id="peliculas-reservadas">
                <!-- Aquí se añadirán las películas reservadas -->
            </div>
            <div class="form-group">
                <label for="fecha">Fecha:</label>
                <input type="date" id="fecha" name="fecha" required>
            </div>
            <div class="form-group">
                <label for="edad">Edad del solicitante:</label>
                <input type="number" id="edad" name="edad" min="18" required>
            </div>
            <div class="form-group">
                <label for="direccion">Dirección del solicitante:</label>
                <input type="text" id="direccion" name="direccion" required>
            </div>
            <div class="form-group">
                <label for="sexo">Sexo del solicitante:</label>
                <div class="radio-group">
                    <label for="masculino">
                        <input type="radio" id="masculino" name="sexo" value="Masculino" required> Masculino
                    </label>
                    <label for="femenino">
                        <input type="radio" id="femenino" name="sexo" value="Femenino" required> Femenino
                    </label>
                </div>
            </div>
            <button type="submit">Enviar solicitud</button>
        </form>
    </section>
    <footer>
        © 2023 J Films. Todos los derechos reservados.
    </footer>

    <!-- JavaScript para añadir y eliminar películas -->
    <script>
        function agregarPelicula() {
            var cantidad = document.getElementById('cantidad').value;
            if (!cantidad || cantidad > 10) {
                alert("Por favor, ingresa una cantidad válida (1-10).");
                return;
            }
            var select = document.getElementById('pelicula');
            var pelicula = select.options[select.selectedIndex].text;
            var peliculaValue = select.options[select.selectedIndex].value;
            var contenedor = document.getElementById('peliculas-reservadas');
            var div = document.createElement('div');
            div.classList.add('pelicula-reservada');
            div.innerHTML = `
                <img src="Imagenes/${peliculaValue}.jpg" alt="${pelicula}" class="caratula-miniatura">
                <p>${pelicula} - Cantidad: <input type="number" value="${cantidad}" min="1" max="10" onchange="actualizarCantidad(this, '${pelicula}')"></p>
                <button onclick="this.parentNode.remove()" class="btn-eliminar"><i class="fas fa-trash"></i></button>
            `;
            contenedor.appendChild(div);
        }

        function actualizarCantidad(input, pelicula) {
            var nuevaCantidad = input.value;
            if (nuevaCantidad < 1 || nuevaCantidad > 10) {
                alert("Por favor, ingresa una cantidad válida (1-10).");
                input.value = 1; // Restablecer a 1 si la cantidad no es válida
                return;
            }
            console.log(`Cantidad actualizada para ${pelicula}: ${nuevaCantidad}`);
            // Aquí puedes agregar código para manejar la actualización de la cantidad en el backend o en el estado de la aplicación.
        }
    </script>
</body>
</html>
